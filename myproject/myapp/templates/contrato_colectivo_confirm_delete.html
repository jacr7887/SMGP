{% extends "home.html" %}
{% load static %}
{% load humanize %}
{% load querystring_tags %} {# Si usas query_transform para los botones #}

{% block content %}
<div class="dark-container" role="main" aria-labelledby="main-heading"> {# Tu clase #}
  <section>
    <h1 id="main-heading">âš ï¸ Confirmar EliminaciÃ³n de Contrato Colectivo</h1>

    {# Botones Volver (Usando object.pk) #}
    <div class="header-actions mb-3"> {# Tu clase y margen #}
        <a href="{% url 'myapp:contrato_colectivo_detail' object.pk %}" class="nav_link" aria-label="Cancelar y volver al detalle del contrato"> {# Tu clase #}
            â¬…ï¸ Cancelar y Volver al Detalle
        </a>
         <a href="{% url 'myapp:contrato_colectivo_list' %}" class="nav_link" aria-label="Volver al listado de contratos colectivos"> {# Tu clase #}
            â¬…ï¸ Volver al Listado General
        </a>
    </div>

    <p class="mt-3 mb-3">EstÃ¡s a punto de eliminar permanentemente el siguiente contrato colectivo. Esta acciÃ³n **no se puede deshacer**. Verifica los datos:</p>

    {# --- Resumen de Datos Clave (Usando tu estructura) --- #}
    <div class="detail-summary mb-4" aria-label="Resumen del contrato a eliminar"> {# Tu clase #}

        {# --- SecciÃ³n IdentificaciÃ³n Contrato/Empresa --- #}
        <div class="detail-section" data-section="identificacion"> {# Tu clase #}
            <h2 class="section-title visually-hidden">IdentificaciÃ³n</h2> {# Tu clase #}
            <div class="dark-group"> {# Tu clase #}
                <span class="dark-label">ğŸ“„ NÂ° Contrato:</span>
                <span class="data-value"><strong>{{ object.numero_contrato|escape|default:"N/A" }}</strong></span> {# Resaltar #}
            </div>
            <div class="dark-group">
                <span class="dark-label">ğŸ¢ RazÃ³n Social:</span>
                <span class="data-value">{{ object.razon_social|escape }}</span>
            </div>
            <div class="dark-group">
                <span class="dark-label">ğŸ†” RIF Empresa:</span>
                <span class="data-value">{{ object.rif|escape|default:"N/A" }}</span>
            </div>
            <div class="dark-group">
                <span class="dark-label">ğŸŒ¿ Ramo:</span>
                <span class="data-value">{{ object.get_ramo_display|escape }}</span>
            </div>
             <div class="dark-group">
                <span class="dark-label">ğŸš¦ Estatus Vigencia:</span>
                <span class="badge {% if object.estatus == 'VIGENTE' %}badge-success{% elif object.estatus == 'VENCIDO' %}badge-danger{% else %}badge-warning{% endif %}">{{ object.get_estatus_display|escape }}</span>
            </div>
        </div>

        {# --- SecciÃ³n Vigencia --- #}
        <div class="detail-section" data-section="vigencia"> {# Tu clase #}
             <h2 class="section-title visually-hidden">Vigencia</h2>
             <div class="dark-group">
                <span class="dark-label">â¡ï¸ Inicio Vigencia:</span>
                <span class="data-value">{{ object.fecha_inicio_vigencia|date:"d/m/Y"|default:"-" }}</span>
             </div>
             <div class="dark-group">
                <span class="dark-label">â¹ï¸ Fin Vigencia:</span>
                <span class="data-value">{{ object.fecha_fin_vigencia|date:"d/m/Y"|default:"-" }}</span>
             </div>
             <div class="dark-group">
                 <span class="dark-label">â±ï¸ DuraciÃ³n (Meses):</span>
                 <span class="data-value">{{ object.periodo_vigencia_meses|default:"-" }}</span>
             </div>
        </div>

        {# --- SecciÃ³n Montos y Tarifa --- #}
        <div class="detail-section" data-section="montos"> {# Tu clase #}
            <h2 class="section-title visually-hidden">Montos y Tarifa</h2>
             <div class="dark-group">
                <span class="dark-label">ğŸ·ï¸ Tarifa Aplicada:</span>
                <span class="data-value">{{ object.tarifa_aplicada|default:"N/A" }}</span>
            </div>
            <div class="dark-group">
                <span class="dark-label">ğŸ’° Prima Total (HistÃ³rica):</span>
                <span class="data-value">${{ object.monto_total|floatformat:2|intcomma|default:"0.00" }}</span>
            </div>
            <div class="dark-group">
                <span class="dark-label">ğŸ’² Importe Cuota:</span>
                <span class="data-value">${{ object.importe_recibo_contrato|floatformat:2|intcomma|default:"-" }}</span>
            </div>
            <div class="dark-group">
                <span class="dark-label">ğŸ”¢ Cantidad Cuotas:</span>
                <span class="data-value">{{ object.cantidad_cuotas|default:"-" }}</span>
            </div>
             <div class="dark-group">
                <span class="dark-label">ğŸ’³ Forma Pago:</span>
                <span class="data-value">{{ object.get_forma_pago_display|escape }}</span>
            </div>
        </div>

    </div> {# --- Fin Resumen de Datos --- #}

    {# --- Advertencia --- #}
    <div class="alert alert-warning mt-4" role="alert"> {# Tu clase alert y margen #}
      <p><strong>Â¡AtenciÃ³n!</strong> Esta acciÃ³n no se puede deshacer. Se eliminarÃ¡ toda la informaciÃ³n asociada a este contrato colectivo (excepto registros protegidos).</p>
      <p>Â¿EstÃ¡s completamente seguro de que deseas continuar?</p>
    </div>

    {# --- Formulario de ConfirmaciÃ³n --- #}
    <form method="post">
      {% csrf_token %}
      <div class="form-actions"> {# Tu clase form-actions #}
         {# BotÃ³n de ConfirmaciÃ³n (Destructivo) #}
        <button type="submit" class="btn-warning" aria-label="Confirmar la eliminaciÃ³n permanente de este contrato colectivo"> {# Tu clase btn-warning #}
            âŒ SÃ­, eliminar permanentemente
        </button>
         {# Enlace de CancelaciÃ³n (Seguro) #}
         <a href="{% url 'myapp:contrato_colectivo_detail' object.pk %}" class="btn-success" aria-label="Cancelar y volver al detalle del contrato"> {# Tu clase btn-success #}
             ğŸš« No, cancelar
         </a>
      </div>
    </form>

  </section>
</div>

{% endblock content %}