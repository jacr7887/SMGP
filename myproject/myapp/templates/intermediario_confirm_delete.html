{% extends "home.html" %}
{% load static %}
{% load humanize %} {# AÃ±adido para posible uso futuro #}

{% block content %}
<div class="dark-container" role="main" aria-labelledby="main-heading">
  <section>
    <h1 id="main-heading" class="dark-title">âš ï¸ Eliminar Intermediario: {{ object.codigo }}</h1>

     {# Botones de Volver #}
    <div class="header-actions">
        <a href="{% url 'myapp:intermediario_detail' object.pk %}" class="nav_link" aria-label="Cancelar y volver al detalle del intermediario">
            â¬…ï¸ Cancelar y Volver al Detalle
        </a>
         <a href="{% url 'myapp:intermediario_list' %}" class="nav_link" aria-label="Volver al listado de intermediarios">
            â¬…ï¸ Volver al Listado
        </a>
    </div>

    <div class="delete-confirmation mt-3" data-section="confirmacion-eliminacion"> {# AÃ±adido margen #}
      <h2 class="dark-label">âš ï¸ ConfirmaciÃ³n de EliminaciÃ³n</h2> {# Usar clase dark-label si es consistente #}
      <p>EstÃ¡s a punto de eliminar permanentemente el siguiente intermediario. Verifica los datos:</p>

      {# --- Resumen Completo --- #}
      <div class="detail-summary"> {# Contenedor para el resumen #}

          <div class="detail-section">
              <h3 class="section-title visually-hidden">Datos Principales</h3>
              <div class="dark-group"><span class="dark-label">ğŸ”¢ ID:</span> <span class="data-value">{{ object.pk }}</span></div>
              <div class="dark-group"><span class="dark-label">ğŸ”‘ CÃ³digo:</span> <span class="data-value">{{ object.codigo|escape }}</span></div>
              <div class="dark-group"><span class="dark-label">ğŸ‘¤ Nombre Completo:</span> <span class="data-value">{{ object.nombre_completo|escape }}</span></div>
              <div class="dark-group"><span class="dark-label">ğŸ†” RIF:</span> <span class="data-value">{{ object.rif|escape|default:"-" }}</span></div>
              <div class="dark-group"><span class="dark-label">ğŸ’² % ComisiÃ³n:</span> <span class="data-value">{{ object.porcentaje_comision|floatformat:2 }}%</span></div>
               <div class="dark-group"><span class="dark-label">ğŸ’¡ Activo:</span> <span class="badge {% if object.activo %}badge-success{% else %}badge-danger{% endif %}">{{ object.activo|yesno:"SÃ­,No" }}</span></div>
          </div>

          <div class="detail-section">
               <h3 class="section-title visually-hidden">Contacto y DirecciÃ³n</h3>
               <div class="dark-group"><span class="dark-label">ğŸ“§ Email:</span> <span class="data-value">{{ object.email_contacto|escape|default:"-" }}</span></div>
               <div class="dark-group"><span class="dark-label">ğŸ“ TelÃ©fono:</span> <span class="data-value">{{ object.telefono_contacto|escape|default:"-" }}</span></div>
               <div class="dark-group" style="grid-column: span 2;"><span class="dark-label">ğŸ“ DirecciÃ³n Fiscal:</span> <span class="data-value">{{ object.direccion_fiscal|escape|truncatechars:50|default:"-" }}</span></div>
          </div>

           <div class="detail-section">
               <h3 class="section-title visually-hidden">Relaciones</h3>
               <div class="dark-group"><span class="dark-label">ğŸ”— Interm. Relacionado:</span> <span class="data-value">{{ object.intermediario_relacionado.nombre_completo|escape|default:"-" }}</span></div>
               <div class="dark-group"><span class="dark-label">ğŸ‘¥ Usuarios Gestores:</span> <span class="data-value">{{ object.usuarios.count }}</span></div>
          </div>

          <div class="detail-section">
              <h3 class="section-title visually-hidden">Datos Base (Heredados)</h3>
              <div class="dark-group"><span class="dark-label">â• F. CreaciÃ³n:</span> <span class="data-value">{{ object.fecha_creacion|date:"d/m/Y H:i" }}</span></div>
              <div class="dark-group"><span class="dark-label">ğŸ”„ F. ModificaciÃ³n:</span> <span class="data-value">{{ object.fecha_modificacion|date:"d/m/Y H:i" }}</span></div>
          </div>

      </div> {# --- Fin Resumen --- #}

      <div class="alert-warning mt-4" role="alert"> {# Clase y margen #}
        <p><strong>Â¡AtenciÃ³n!</strong> Esta acciÃ³n no se puede deshacer.</p>
        <p>Â¿EstÃ¡s completamente seguro de que deseas continuar?</p>
      </div>

      <form method="post">
        {% csrf_token %}
        <div class="form-actions"> {# Clase requerida #}
          <button type="submit" class="btn-warning">âŒ SÃ­, eliminar permanentemente</button>
          <a href="{% url 'myapp:intermediario_detail' object.pk %}" class="btn-success">ğŸš« No, cancelar</a>
        </div>
      </form>
    </div> {# --- Fin delete-confirmation --- #}
  </section>
</div>

<link rel="stylesheet" href="{% static 'styles.css' %}">
<script src="{% static 'scripts.js' %}"></script>
{% endblock %}