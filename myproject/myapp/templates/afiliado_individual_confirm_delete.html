{% extends "home.html" %}
{% load static %}

{% block content %}
<div class="container" role="main" aria-labelledby="main-heading">
  <section>
    <h1 id="main-heading">âš ï¸ Confirmar EliminaciÃ³n de Afiliado Individual</h1>

    <p>EstÃ¡s a punto de eliminar permanentemente al siguiente afiliado individual:</p>

    {# --- Resumen de Datos Clave (TODOS los campos) --- #}
    <div class="detail-summary" aria-label="Resumen del afiliado a eliminar">

        <div class="detail-section" data-section="identificacion" aria-labelledby="section-heading-identificacion">
          <h2 id="section-heading-identificacion" class="section-title visually-hidden">InformaciÃ³n de IdentificaciÃ³n</h2> {# Oculto pero Ãºtil para ARIA #}
          <div class="dark-group">
            <span class="dark-label">ğŸ‘¤ Nombre Completo:</span>
            <span>{{ object.nombre_completo|escape|default:"N/A" }}</span>
          </div>
          <div class="dark-group">
            <span class="dark-label">ğŸ‚ Edad:</span>
            <span>{{ object.edad|default:"N/A" }}</span>
          </div>
           <div class="dark-group">
            <span class="dark-label">ğŸ†” CÃ©dula:</span>
            <span>{{ object.cedula|escape|default:"N/A" }}</span>
          </div>
          <div class="dark-group">
            <span class="dark-label">ğŸ”– Tipo ID:</span>
            <span>{{ object.get_tipo_identificacion_display|escape|default:"N/A" }}</span>
          </div>
          <div class="dark-group">
            <span class="dark-label">ğŸ“… Fecha de Nacimiento:</span>
            <span>{{ object.fecha_nacimiento|date:"d/m/Y"|default:"N/A" }}</span>
          </div>
           <div class="dark-group">
            <span class="dark-label">âš§ï¸ Sexo:</span>
            <span>{{ object.get_sexo_display|escape|default:"N/A" }}</span>
          </div>
          <div class="dark-group">
            <span class="dark-label">ğŸŒ Nacionalidad:</span>
            <span>{{ object.nacionalidad|escape|default:"N/A" }}</span>
          </div>
          <div class="dark-group">
            <span class="dark-label">ğŸ’ Estado Civil:</span>
            <span>{{ object.get_estado_civil_display|escape|default:"N/A" }}</span>
          </div>
          <div class="dark-group">
            <span class="dark-label">ğŸ‘ª Parentesco:</span>
            <span>{{ object.get_parentesco_display|escape|default:"N/A" }}</span>
          </div>
           <div class="dark-group">
            <span class="dark-label">#ï¸âƒ£ ID Interno:</span>
            <span>{{ object.pk }}</span>
          </div>
        </div>

        <div class="detail-section" data-section="contacto" aria-labelledby="section-heading-contacto">
          <h2 id="section-heading-contacto" class="section-title visually-hidden">InformaciÃ³n de Contacto</h2>
          <div class="dark-group">
            <span class="dark-label">ğŸ“ TelÃ©fono HabitaciÃ³n:</span>
            <span>{{ object.telefono_habitacion|escape|default:"N/A" }}</span>
          </div>
          <div class="dark-group">
            <span class="dark-label">ğŸ¢ TelÃ©fono Oficina:</span>
            <span>{{ object.telefono_oficina|escape|default:"N/A" }}</span>
          </div>
          <div class="dark-group">
            <span class="dark-label">ğŸ  DirecciÃ³n HabitaciÃ³n:</span>
            <span>{{ object.direccion_habitacion|escape|truncatechars:50|default:"N/A" }}</span> {# Truncado para brevedad #}
          </div>
          <div class="dark-group">
            <span class="dark-label">ğŸ“ DirecciÃ³n Oficina:</span>
            <span>{{ object.direccion_oficina|escape|truncatechars:50|default:"N/A" }}</span> {# Truncado para brevedad #}
          </div>
        </div>

        <div class="detail-section" data-section="ubicacion" aria-labelledby="section-heading-ubicacion">
            <h2 id="section-heading-ubicacion" class="section-title visually-hidden">UbicaciÃ³n GeogrÃ¡fica</h2>
            <div class="dark-group">
                <span class="dark-label">ğŸ—ºï¸ Estado:</span>
                <span>{{ object.get_estado_display|escape|default:"N/A" }}</span>
            </div>
            <div class="dark-group">
                <span class="dark-label">ğŸ˜ï¸ Municipio:</span>
                <span>{{ object.municipio|escape|default:"N/A" }}</span>
            </div>
            <div class="dark-group">
                <span class="dark-label">ğŸ™ï¸ Ciudad:</span>
                <span>{{ object.ciudad|escape|default:"N/A" }}</span>
            </div>
            <div class="dark-group">
                <span class="dark-label">ğŸ“® Zona Postal:</span>
                <span>{{ object.zona_postal|escape|default:"N/A" }}</span>
            </div>
        </div>

        <div class="detail-section" data-section="sistema" aria-labelledby="section-heading-sistema">
          <h2 id="section-heading-sistema" class="section-title visually-hidden">InformaciÃ³n del Sistema</h2>
          <div class="dark-group">
            <span class="dark-label">ğŸ—“ï¸ Fecha de Ingreso:</span>
            <span>{{ object.fecha_ingreso|date:"d/m/Y"|default:"N/A" }}</span>
          </div>
          <div class="dark-group">
            <span class="dark-label">ğŸ¤ Intermediario Asociado:</span>
            <span>{{ object.intermediario|escape|default:"N/A" }}</span>
          </div>
          <div class="dark-group">
            <span class="dark-label">ğŸ’¡ Estado Activo:</span>
            <span class="badge {% if object.activo %}badge-success{% else %}badge-danger{% endif %}">
                {{ object.activo|yesno:"Activo,Inactivo" }}
            </span>
          </div>
          <div class="dark-group">
            <span class="dark-label">ğŸ”‘ CÃ³digo de ValidaciÃ³n:</span>
            <span>{{ object.codigo_validacion|escape|default:"N/A" }}</span>
          </div>
        </div>

        <div class="detail-section" data-section="heredado" aria-labelledby="section-heading-heredado">
            <h2 id="section-heading-heredado" class="section-title visually-hidden">Campos Base (Heredados)</h2>
             <div class="dark-group">
                <span class="dark-label">ğŸ“› Primer Nombre:</span>
                <span>{{ object.primer_nombre|escape|default:"N/A" }}</span>
            </div>
            <div class="dark-group">
                <span class="dark-label">ğŸ“› Segundo Nombre:</span>
                <span>{{ object.segundo_nombre|escape|default:"" }}</span>
            </div>
            <div class="dark-group">
                <span class="dark-label">ğŸ“› Primer Apellido:</span>
                <span>{{ object.primer_apellido|escape|default:"N/A" }}</span>
            </div>
            <div class="dark-group">
                <span class="dark-label">ğŸ“› Segundo Apellido:</span>
                <span>{{ object.segundo_apellido|escape|default:"" }}</span>
            </div>
            {# Incluir otros heredados si existen y son relevantes para confirmar #}
        </div>
        <div class="detail-section" data-section="sistema" aria-labelledby="section-heading-sistema">
          <h2 id="section-heading-sistema" class="section-title visually-hidden">InformaciÃ³n del Sistema</h2>
          <div class="dark-group">
            <span class="dark-label">ğŸ—“ï¸ Fecha de Ingreso:</span>
            <span>{{ object.fecha_ingreso|date:"d/m/Y"|default:"N/A" }}</span>
          </div>
          <div class="dark-group">
            <span class="dark-label">ğŸ¤ Intermediario Asociado:</span>
            <span>{{ object.intermediario|escape|default:"N/A" }}</span>
          </div>
          <div class="dark-group">
            <span class="dark-label">ğŸ’¡ Estado Activo:</span>
            <span class="badge {% if object.activo %}badge-success{% else %}badge-danger{% endif %}">
                {{ object.activo|yesno:"Activo,Inactivo" }}
            </span>
          </div>
          <div class="dark-group">
            <span class="dark-label">ğŸ”‘ CÃ³digo de ValidaciÃ³n:</span>
            <span>{{ object.codigo_validacion|escape|default:"N/A" }}</span>
          </div>
          {# --- CAMPOS AÃ‘ADIDOS --- #}
          <div class="dark-group">
            <span class="dark-label">â• Fecha CreaciÃ³n:</span>
            <span>{{ object.fecha_creacion|date:"d/m/Y H:i"|default:"N/A" }}</span>
          </div>
          <div class="dark-group">
            <span class="dark-label">ğŸ”„ Fecha ModificaciÃ³n:</span>
            <span>{{ object.fecha_modificacion|date:"d/m/Y H:i"|default:"N/A" }}</span>
          </div>

    </div> {# --- Fin Resumen de Datos --- #}

    {# --- Advertencia --- #}
    <div class="alert-warning" role="alert">
      <p><strong>Â¡AtenciÃ³n!</strong> Esta acciÃ³n no se puede deshacer. Se eliminarÃ¡ toda la informaciÃ³n asociada a este afiliado.</p>
      <p>Â¿EstÃ¡s completamente seguro de que deseas continuar?</p>
    </div>

    {# --- Formulario de ConfirmaciÃ³n --- #}
    <form method="post">
      {% csrf_token %}
      <div class="form-actions">
         {# BotÃ³n de ConfirmaciÃ³n (Destructivo) #}
        <button type="submit" class="btn-warning" aria-label="Confirmar la eliminaciÃ³n permanente de este afiliado">
            âŒ SÃ­, eliminar permanentemente
        </button>
         {# Enlace de CancelaciÃ³n (Seguro) - Vuelve a la vista detalle o lista #}
         <a href="{% url 'myapp:afiliado_individual_detail' object.pk %}" class="btn-success" aria-label="Cancelar y volver a la vista anterior">
             ğŸš« No, cancelar
         </a>

         <a href="{% url 'myapp:afiliado_individual_list' %}" class="btn-success" aria-label="Cancelar y volver al listado">
             ğŸš« No, cancelar
         </a>

      </div>
    </form>

  </section>
</div>

{% endblock content %}